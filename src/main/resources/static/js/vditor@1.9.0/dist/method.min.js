/*!
 * Vditor v1.9.0 - A markdown editor written in TypeScript.
 *   
 * MIT License
 * 
 * Copyright (c) 2019 B3log 开源, b3log.org
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Vditor=t():e.Vditor=t()}(window,(function(){return function(e){function t(t){for(var n,o,a=t[0],i=t[1],c=0,u=[];c<a.length;c++)o=a[c],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(s&&s(t);u.length;)u.shift()()}var n={},r={"method.min":0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=a);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=function(e){return o.p+""+({abcjs:"abcjs",echarts:"echarts","highlight.js":"highlight.js",katex:"katex",mermaid:"mermaid"}[e]||e)+".bundle.js"}(e);var s=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,n[1](s)}r[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/js/vditor@1.9.0/dist/",o.oe=function(e){throw console.error(e),e};var a=window.webpackJsonpVditor=window.webpackJsonpVditor||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var s=i;return o(o.s="./src/method.ts")}({"./src/assets/icons/copy.svg":function(e,t){e.exports='<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 32 32" width=32px height=32px> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg>'},"./src/method.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/ts/markdown/abcRender.ts"),o=n("./src/ts/markdown/chartRender.ts"),a=n("./src/ts/markdown/codeRender.ts"),i=n("./src/ts/markdown/highlightRender.ts"),c=n("./src/ts/markdown/mathRender.ts"),s=n("./src/ts/markdown/mathRenderByLute.ts"),u=n("./src/ts/markdown/md2html.ts"),l=n("./src/ts/markdown/mediaRender.ts"),d=n("./src/ts/markdown/mermaidRender.ts"),f=n("./src/ts/markdown/previewRender.ts"),m=function(){function e(){}return e.codeRender=a.a,e.highlightRender=i.a,e.mathRenderByLute=s.a,e.mathRender=c.a,e.mermaidRender=d.a,e.chartRender=o.a,e.abcRender=r.a,e.mediaRender=l.a,e.md2html=u.b,e.preview=f.a,e}();t.default=m},"./src/ts/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r="1.9.0",o="/js/"},"./src/ts/i18n/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={en_US:{bold:"Blod",both:"editor & preview",check:"Task List",code:"Code Block",copied:"Copied",copy:"Copy",devtools:"DevTools",emoji:"Emoji",fileTypeError:"file type is error",format:"Format",fullscreen:"Fullscreen",headings:"Headings",help:"Help",info:"Info","inline-code":"Inline Code",italic:"Italic",line:"Line",link:"Link",list:"List",nameEmpty:"Name is empty","ordered-list":"Order List",over:"over",performanceTip:"Real-time preview requires ${x}ms, you can close it",preview:"Preview",quote:"Quote",record:"Start Record/End Record","record-tip":"The device does not support recording",recording:"recording...",redo:"Redo",strike:"Strike",table:"Table",undo:"Undo",upload:"Upload image or file",uploading:"uploading...",wysiwyg:"WYSIWYG"},zh_CN:{bold:"粗体",both:"编辑 & 预览",check:"任务列表",code:"代码块",copied:"已复制",copy:"复制",devtools:"开发者工具",emoji:"表情",fileTypeError:"文件类型不允许上传",format:"格式化",fullscreen:"全屏",headings:"标题",help:"帮助",info:"关于","inline-code":"行内代码",italic:"斜体",line:"分隔线",link:"链接",list:"无序列表",nameEmpty:"文件名不能为空","ordered-list":"有序列表",over:"超过",performanceTip:"实时预览需 ${x}ms，可点击编辑 & 预览按钮进行关闭",preview:"预览",quote:"引用",record:"开始录音/结束录音","record-tip":"该设备不支持录音功能",recording:"录音中...",redo:"重做",strike:"删除线",table:"表格",undo:"撤销",upload:"上传图片或文件",uploading:"上传中...",wysiwyg:"所见即所得"}}},"./src/ts/markdown/abcRender.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))},o=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},a=function(e){return void 0===e&&(e=document),r(void 0,void 0,void 0,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return(t=e.querySelectorAll(".language-abc")).length>0?[4,n.e("abcjs").then(n.t.bind(null,"./node_modules/_abcjs@5.9.1@abcjs/src/api/abc_tunebook_svg.js",7))]:[3,2];case 1:r=o.sent().default,t.forEach((function(e){var t=document.createElement("div");e.parentNode.parentNode.replaceChild(t,e.parentNode),r(t,e.textContent.trim(),{}),t.style.overflowX="auto"})),o.label=2;case 2:return[2]}}))}))}},"./src/ts/markdown/chartRender.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))},o=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},a=function(e){return void 0===e&&(e=document),r(void 0,void 0,void 0,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return(t=e.querySelectorAll(".language-echarts")).length>0?[4,n.e("echarts").then(n.t.bind(null,"./node_modules/_echarts@4.4.0@echarts/index.js",7))]:[3,2];case 1:r=o.sent().default,t.forEach((function(e){try{if("true"===e.getAttribute("data-processed"))return;var t=JSON.parse(e.innerHTML.trim());r.init(e).setOption(t),e.setAttribute("data-processed","true")}catch(t){e.className="hljs",e.innerHTML="echarts render error: <br>"+t}})),o.label=2;case 2:return[2]}}))}))}},"./src/ts/markdown/codeRender.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./src/assets/icons/copy.svg"),o=n.n(r),a=n("./src/ts/i18n/index.ts"),i=n("./src/ts/util/code160to32.ts"),c=function(e,t){void 0===t&&(t="zh_CN"),e.querySelectorAll("pre > code").forEach((function(n,r){if(!(n.className.indexOf("language-mermaid")>-1||n.className.indexOf("language-echarts")>-1||n.className.indexOf("language-abc")>-1||n.style.maxHeight.indexOf("px")>-1||e.className.indexOf("vditor-preview")>-1&&r>5)){var c=document.createElement("div");c.className="vditor-copy",c.innerHTML="<textarea>"+Object(i.a)(n.innerText)+'</textarea><span aria-label="'+a.a[t].copy+"\"\nonmouseover=\"this.setAttribute('aria-label', '"+a.a[t].copy+"')\"\nclass=\"vditor-tooltipped vditor-tooltipped__w\"\nonclick=\"this.previousElementSibling.select();document.execCommand('copy');this.setAttribute('aria-label', '"+a.a[t].copied+"')\">"+o.a+"</span>",n.before(c),n.style.maxHeight=window.outerHeight-40+"px"}}))}},"./src/ts/markdown/highlightRender.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./src/ts/constants.ts"),o=n("./src/ts/util/addStyle.ts"),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))},i=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},c=function(e,t,c){return void 0===c&&(c=document),a(void 0,void 0,void 0,(function(){var a;return i(this,(function(i){switch(i.label){case 0:return["abap","algol","algol_nu","arduino","autumn","borland","bw","colorful","dracula","emacs","friendly","fruity","github","igor","lovelace","manni","monokai","monokailight","murphy","native","paraiso-dark","paraiso-light","pastie","perldoc","pygments","rainbow_dash","rrt","solarized-dark","solarized-dark256","solarized-light","swapoff","tango","trac","vim","vs","xcode"].includes(e)||(e="github"),Object(o.a)(r.a+"/vditor@"+r.b+"/dist/js/highlight.js/styles/"+e+".css","vditorHljsStyle"),t?0===c.querySelectorAll("pre > code").length?[2]:[4,n.e("highlight.js").then(n.t.bind(null,"./node_modules/_highlight.js@9.15.10@highlight.js/lib/index.js",7))]:[2];case 1:return a=i.sent().default,c.querySelectorAll("pre > code").forEach((function(e){e.className.indexOf("language-mermaid")>-1||e.className.indexOf("language-abc")>-1||e.className.indexOf("language-echarts")>-1||a.highlightBlock(e)})),[2]}}))}))}},"./src/ts/markdown/mathRender.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./src/ts/constants.ts"),o=n("./src/ts/util/addStyle.ts"),a=n("./src/ts/util/code160to32.ts"),i=function(e){var t=Object(a.a)(e.innerText);(t.split("$").length>2||t.split("\\(").length>1&&t.split("\\)").length>1)&&n.e("katex").then(n.t.bind(null,"./node_modules/_katex@0.11.1@katex/dist/katex.js",7)).then((function(){n.e("katex").then(n.bind(null,"./node_modules/_katex@0.11.1@katex/contrib/auto-render/auto-render.js")).then((function(t){Object(o.a)(r.a+"/vditor/dist/js/katex/katex.min.css","vditorKatexStyle"),t.default(e,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"$",right:"$",display:!1}]}),e.querySelectorAll(".katex").forEach((function(e){e.addEventListener("copy",(function(e){e.stopPropagation(),e.preventDefault(),e.clipboardData.setData("text/plain",this.querySelector("annotation").textContent),e.clipboardData.setData("text/html",this.innerHTML)}))}))}))}))}},"./src/ts/markdown/mathRenderByLute.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./src/ts/constants.ts"),o=n("./src/ts/util/addStyle.ts"),a=n("./src/ts/util/code160to32.ts"),i=function(e){var t=e.querySelectorAll(".vditor-math");0!==t.length&&n.e("katex").then(n.t.bind(null,"./node_modules/_katex@0.11.1@katex/dist/katex.js",7)).then((function(e){Object(o.a)(r.a+"/vditor/dist/js/katex/katex.min.css","vditorKatexStyle"),t.forEach((function(t){if(!t.getAttribute("data-math")){var n=Object(a.a)(t.textContent);t.setAttribute("data-math",n);try{t.innerHTML=e.renderToString(n,{displayMode:"DIV"===t.tagName,output:"html"})}catch(e){t.innerHTML=e.message,t.className="vditor-math vditor--error"}t.addEventListener("copy",(function(e){e.stopPropagation(),e.preventDefault();var t=e.currentTarget.closest(".vditor-math");e.clipboardData.setData("text/html",t.innerHTML),e.clipboardData.setData("text/plain",t.getAttribute("data-math"))}))}}))}))}},"./src/ts/markdown/md2html.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s}));var r=n("./src/ts/constants.ts"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},i=function(e){var t=document.createElement("script");return t.type="text/javascript",t.src=r.a+"/vditor@"+r.b+"/dist/js/lute/lute.min.js",document.getElementsByTagName("head")[0].appendChild(t),new Promise((function(n){t.onload=function(){e&&!e.lute&&(e.lute=Lute.New(),e.lute.PutEmojis(e.options.hint.emoji),e.lute.SetEmojiSite(e.options.hint.emojiPath)),n()}}))},c=function(e,t){return o(void 0,void 0,void 0,(function(){var n,o;return a(this,(function(a){switch(a.label){case 0:return"undefined"!=typeof Lute?[3,2]:[4,i()];case 1:a.sent(),a.label=2;case 2:return t=Object.assign({emojiSite:r.a+"/vditor/dist/images/emoji",emojis:{}},t),(n=Lute.New()).PutEmojis(t.customEmoji),n.SetEmojiSite(t.emojiPath),[2,(o=n.MarkdownStr("",e))[0]||o[1]]}}))}))},s=function(e,t){return o(void 0,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return void 0!==t.lute?[3,2]:[4,i()];case 1:r.sent(),r.label=2;case 2:return[2,(n=t.lute.MarkdownStr("",e))[0]||n[1]]}}))}))}},"./src/ts/markdown/mediaRender.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){e&&e.querySelectorAll("a").forEach((function(e){var t=e.getAttribute("href");t&&(t.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)?function(e,t){e.insertAdjacentHTML("afterend",'<video controls="controls" src="'+t+'"></video>'),e.remove()}(e,t):t.match(/^.+.(mp3|wav)$/)?function(e,t){e.insertAdjacentHTML("afterend",'<audio controls="controls" src="'+t+'"></audio>'),e.remove()}(e,t):function(e,t){var n=t.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),r=t.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),o=t.match(/\/\/v\.qq\.com\/x\/cover\/.*\/([^\/]+)\.html\??.*/),a=t.match(/(?:www\.|\/\/)coub\.com\/view\/(\w+)/),i=t.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/),c=t.match(/.+dailymotion.com\/(video|hub)\/(\w+)\?/);n&&11===n[1].length?(e.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//www.youtube.com/embed/'+n[1]+(n[2]?"?start="+n[2]:"")+'"></iframe>'),e.remove()):r&&r[1]?(e.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//player.youku.com/embed/'+r[1]+'"></iframe>'),e.remove()):o&&o[1]?(e.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="https://v.qq.com/txp/iframe/player.html?vid='+o[1]+'"></iframe>'),e.remove()):a&&a[1]?(e.insertAdjacentHTML("afterend",'<iframe class="iframe__video"\n src="//coub.com/embed/'+a[1]+'?muted=false&autostart=false&originalSize=true&startWithHD=true"></iframe>'),e.remove()):i&&i[0]?(e.insertAdjacentHTML("afterend",'<iframe class="iframe__video"\n src="https://www.facebook.com/plugins/video.php?href='+encodeURIComponent(i[0])+'"></iframe>'),e.remove()):c&&c[2]&&(e.insertAdjacentHTML("afterend",'<iframe class="iframe__video"\n src="https://www.dailymotion.com/embed/video/'+c[2]+'"></iframe>'),e.remove())}(e,t))}))}},"./src/ts/markdown/mermaidRender.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){0!==e.querySelectorAll("code.language-mermaid").length&&n.e("mermaid").then(n.t.bind(null,"./node_modules/_mermaid@8.4.0@mermaid/dist/mermaid.core.js",7)).then((function(e){e.init({noteMargin:10},".language-mermaid")}))}},"./src/ts/markdown/previewRender.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("./src/ts/constants.ts"),o=n("./src/ts/markdown/abcRender.ts"),a=n("./src/ts/markdown/chartRender.ts"),i=n("./src/ts/markdown/codeRender.ts"),c=n("./src/ts/markdown/highlightRender.ts"),s=n("./src/ts/markdown/mathRenderByLute.ts"),u=n("./src/ts/markdown/md2html.ts"),l=n("./src/ts/markdown/mediaRender.ts"),d=n("./src/ts/markdown/mermaidRender.ts"),f=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))},m=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},h=function(e,t){return f(void 0,void 0,void 0,(function(){var n,f,h;return m(this,(function(m){switch(m.label){case 0:return n={customEmoji:{},emojiPath:r.a+"/vditor/dist/images/emoji",enableHighlight:!0,hljsStyle:"github",lang:"zh_CN"},t=Object.assign(n,t),[4,Object(u.b)(e.textContent,t)];case 1:return f=m.sent(),(h=document.createElement("div")).innerHTML=f,h.className=e.className,h.id=e.id,h.setAttribute("style",e.getAttribute("style")),h.style.display="block",e.after(h),e.remove(),Object(i.a)(h,t.lang),Object(c.a)(t.hljsStyle,t.enableHighlight,h),Object(s.a)(h),Object(d.a)(h),Object(a.a)(h),Object(o.a)(h),Object(l.a)(h),[2]}}))}))}},"./src/ts/util/addStyle.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){if(!document.getElementById(t)){var n=document.createElement("link");n.id=t,n.rel="stylesheet",n.type="text/css",n.href=e,document.getElementsByTagName("head")[0].appendChild(n)}}},"./src/ts/util/code160to32.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e.replace(/\u00a0/g," ")}}}).default}));